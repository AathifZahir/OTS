{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aathi\\\\OneDrive\\\\Documents\\\\_-SLIIT-_\\\\itp\\\\OTS\\\\frontend\\\\src\\\\pages\\\\OrderPlacement\\\\ProductListPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport ProductTile from '../../components/ProductList/ProductTile';\nimport FilterOptions from '../../components/ProductList/FilterBar';\nimport SearchBar from '../../components/ProductList/SearchBar';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductListPage = () => {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterOptions, setFilterOptions] = useState({\n    category: '',\n    minPrice: '',\n    maxPrice: '',\n    exactRating: '' // Added state for exact rating filter\n  });\n  useEffect(() => {\n    const fetchProducts = async () => {\n      try {\n        const response = await axios.get('/api/productlist');\n        setProducts(response.data);\n      } catch (error) {\n        console.error('Error fetching products:', error);\n      }\n    };\n    fetchProducts();\n  }, []);\n  const handleFilterChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFilterOptions({\n      ...filterOptions,\n      [name]: value\n    });\n  };\n  const filteredProducts = products.filter(product => (product.name.toLowerCase().includes(searchTerm.toLowerCase()) || product.description.toLowerCase().includes(searchTerm.toLowerCase())) && (filterOptions.category === '' || product.category.toLowerCase() === filterOptions.category.toLowerCase()) && (filterOptions.minPrice === '' || product.price >= filterOptions.minPrice) && (filterOptions.maxPrice === '' || product.price <= filterOptions.maxPrice) && (filterOptions.exactRating === '' || product.averageRating == filterOptions.exactRating) // Include exact rating filter\n  );\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto px-4 py-8\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"home-page\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search\",\n        children: /*#__PURE__*/_jsxDEV(SearchBar, {\n          setSearchTerm: setSearchTerm\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col md:flex-row md:space-x-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full md:w-1/6\",\n          children: /*#__PURE__*/_jsxDEV(FilterOptions, {\n            handleFilterChange: handleFilterChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-list grid grid-cols-4 gap-4 justify-items-center w-full md:w-5/6\",\n          children: filteredProducts.map(product => /*#__PURE__*/_jsxDEV(ProductTile, {\n            product: product,\n            averageRating: product.averageRating // Pass average rating as prop\n            ,\n            numReviews: product.ratingsCount // Pass number of reviews as prop\n          }, product._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductListPage, \"76CQOvOnGD9pda21VWq3+5qr2q8=\");\n_c = ProductListPage;\nexport default ProductListPage;\nvar _c;\n$RefreshReg$(_c, \"ProductListPage\");","map":{"version":3,"names":["React","useState","useEffect","axios","ProductTile","FilterOptions","SearchBar","jsxDEV","_jsxDEV","ProductListPage","_s","products","setProducts","searchTerm","setSearchTerm","filterOptions","setFilterOptions","category","minPrice","maxPrice","exactRating","fetchProducts","response","get","data","error","console","handleFilterChange","e","name","value","target","filteredProducts","filter","product","toLowerCase","includes","description","price","averageRating","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","numReviews","ratingsCount","_id","_c","$RefreshReg$"],"sources":["C:/Users/aathi/OneDrive/Documents/_-SLIIT-_/itp/OTS/frontend/src/pages/OrderPlacement/ProductListPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport ProductTile from '../../components/ProductList/ProductTile';\r\nimport FilterOptions from '../../components/ProductList/FilterBar';\r\nimport SearchBar from '../../components/ProductList/SearchBar';\r\n\r\nconst ProductListPage = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [filterOptions, setFilterOptions] = useState({\r\n    category: '',\r\n    minPrice: '',\r\n    maxPrice: '',\r\n    exactRating: '', // Added state for exact rating filter\r\n  });\r\n\r\n  useEffect(() => {\r\n    const fetchProducts = async () => {\r\n      try {\r\n        const response = await axios.get('/api/productlist');\r\n        setProducts(response.data);\r\n      } catch (error) {\r\n        console.error('Error fetching products:', error);\r\n      }\r\n    };\r\n\r\n    fetchProducts();\r\n  }, []);\r\n\r\n  const handleFilterChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFilterOptions({ ...filterOptions, [name]: value });\r\n  };\r\n\r\n  const filteredProducts = products.filter(product =>\r\n    (product.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    product.description.toLowerCase().includes(searchTerm.toLowerCase())) &&\r\n    (filterOptions.category === '' || product.category.toLowerCase() === filterOptions.category.toLowerCase()) &&\r\n    (filterOptions.minPrice === '' || product.price >= filterOptions.minPrice) &&\r\n    (filterOptions.maxPrice === '' || product.price <= filterOptions.maxPrice) &&\r\n    (filterOptions.exactRating === '' || product.averageRating == filterOptions.exactRating) // Include exact rating filter\r\n  );\r\n\r\n  return (\r\n    <div className=\"container mx-auto px-4 py-8\">\r\n      <div className=\"home-page\">\r\n        <div className=\"search\">\r\n          <SearchBar setSearchTerm={setSearchTerm} />\r\n        </div>\r\n        <div className=\"flex flex-col md:flex-row md:space-x-6\">\r\n          <div className=\"w-full md:w-1/6\">\r\n            <FilterOptions handleFilterChange={handleFilterChange} />\r\n          </div>\r\n          <div className=\"product-list grid grid-cols-4 gap-4 justify-items-center w-full md:w-5/6\">\r\n            {filteredProducts.map(product => (\r\n              <ProductTile\r\n                key={product._id}\r\n                product={product}\r\n                averageRating={product.averageRating} // Pass average rating as prop\r\n                numReviews={product.ratingsCount} // Pass number of reviews as prop\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductListPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}